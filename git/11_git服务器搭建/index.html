<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Devs Stack</title>
    <link rel="stylesheet" type="text/css" href="../../assets/stylesheets/main.43fe2ee2b2e728c274f2.css" />
    <link rel="stylesheet" type="text/css" href="../../assets/stylesheets/metisMenu.css" />
    <link rel="stylesheet" type="text/css" href="../../assets/stylesheets/theme.css" />

</head>

<body>
    <div id="dashboard-app" class="fixed-header fixed-left-sider fixed-footer">
        <header>
            <div class="aside-header">
                <div>
                    <label class="text-light text-lg-center p-2"><h2> <a class="text-light text-lg-center p-2" href="../.." >Devs Stack</a></h2></label> 
                </div>
            </div>
            <div class="header-bar">
                <div data-v-a870e5a8="" class="d-flex justify-content-between">
                        
                    <div data-v-a870e5a8="" class="left-container">
                      
                    </div>
                    <div data-v-a870e5a8="" class="right-container">
                        <div  class="dropdown p-2">
                                <input type="text" id="searchbox" placeholder="搜索" class="form-control">
                        </div> 
                    </div>
                </div>
            </div>
        </header>
        <div class="dashboard-body">
            <div class="aside-left" id="aside_left">
                    <nav class="sidebar-nav">

        <ul class="metismenu" id="main-menu">
            <li class="sidebar-search-wrapper text-light" style="font-size: 14px;padding: 1rem;font-weight: 600;">
                文章列表
            </li>
            
            
            
            
  



    <li class="">
        <a href="../.." title="Welcome" class="md-nav__link" aria-link>
          Welcome
        </a>
      </li>

            
            
            
            
  

  
  
  



    <li>
        <a class="has-arrow active" href="#"  aria-expanded="true" >
                Git
        </a>
        <ul aria-expanded="true" class="active collapse in">
                
                
                  
                  
                  
  



    <li class="active">
        <a href="../1_CentOS7中安装git/" title="1_CentOS7中安装git" class="md-nav__link" aria-link>
          1_CentOS7中安装git
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../2_git和GitHub/" title="2_git和GitHub" class="md-nav__link" aria-link>
          2_git和GitHub
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../3_git工作区暂存区和版本库/" title="3_git工作区暂存区和版本库" class="md-nav__link" aria-link>
          3_git工作区暂存区和版本库
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../4_git使用基础篇/" title="4_git使用基础篇" class="md-nav__link" aria-link>
          4_git使用基础篇
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../5_简明 Git 命令速查表（中文版）/" title="5_简明 Git 命令速查表（中文版）" class="md-nav__link" aria-link>
          5_简明 Git 命令速查表（中文版）
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../6_git仓库创建/" title="6_git仓库创建" class="md-nav__link" aria-link>
          6_git仓库创建
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../7_git分支管理/" title="7_git分支管理" class="md-nav__link" aria-link>
          7_git分支管理
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../8_git工作流程/" title="8_git工作流程" class="md-nav__link" aria-link>
          8_git工作流程
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../9_git工作常用命令/" title="9_git工作常用命令" class="md-nav__link" aria-link>
          9_git工作常用命令
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../10_git标签/" title="10_git标签" class="md-nav__link" aria-link>
          10_git标签
        </a>
      </li>

                
                  
                  
                  
  

  
  
  



    <li>
        <a class="active"  href="./" title="11_git服务器搭建"  aria-link>
                11_git服务器搭建
        </a>
    </li>


                
                  
                  
                  
  



    <li class="active">
        <a href="../Git处理 GitHub 不允许上传超过 100MB 文件的问题/" title="Git处理 GitHub 不允许上传超过 100MB 文件的问题" class="md-nav__link" aria-link>
          Git处理 GitHub 不允许上传超过 100MB 文件的问题
        </a>
      </li>

                
        </ul>
    </li>


            
            
            
            
  



    <li>
        <a class="has-arrow " href="#"  aria-expanded="false" >
                SVN
        </a>
        <ul aria-expanded="false" class=" ">
                
                
                  
                  
                  
  



    <li class="">
        <a href="../../svn/" title="概要" class="md-nav__link" aria-link>
          概要
        </a>
      </li>

                
        </ul>
    </li>


            
            <!--<li>
                <a class="has-arrow" href="#">
                    数据源
                </a>
                <ul aria-expanded="true">
                    <li>
                        <a>人口普查数据</a>
                    </li>
                    <li>
                        <a>2017销售数据</a>
                    </li>
                </ul>
            </li>
            <li>
                <a class="has-arrow" href="#">
                    数据源
                </a>
                <ul aria-expanded="true">
                    <li>
                        <a>人口普查数据</a>
                    </li>
                    <li>
                        <a>2017销售数据</a>
                    </li>
                </ul>
            </li>-->
        </ul>
    </nav>
            </div>
            <main class="page">
                <div class="page-title">
                    <div class="breadcrumb"> <b>文章标题:&nbsp;&nbsp;&nbsp;&nbsp;  </b>11_git服务器搭建</div>
                </div>
                <div class="page-content">
                    <div class="page-content-body">
                        <div class="page-content-body-scrollwrap">
                            <div> 
                                <h2 id="git">Git 服务器搭建</h2>
<div class="toc">
<ul>
<li><a href="#git">Git 服务器搭建</a><ul>
<li><a href="#1git">1、安装Git</a></li>
<li><a href="#2">2、创建证书登录</a></li>
<li><a href="#3git">3、初始化Git仓库</a></li>
<li><a href="#4">4、克隆仓库</a></li>
</ul>
</li>
</ul>
</div>
<p><a href="http://www.runoob.com/git/git-server.html">原文链接</a></p>
<p>Github 公开的项目是免费的，但是如果你不想让其他人看到你的项目就需要收费。
这时我们就需要自己搭建一台Git服务器作为私有仓库使用。
接下来我们将以 Centos 为例搭建 Git 服务器。</p>
<h3 id="1git">1、安装Git</h3>
<blockquote>
<p>$ yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-devel  <br />
$ yum install git  </p>
</blockquote>
<p>接下来我们 创建一个git用户组和用户，用来运行git服务：</p>
<blockquote>
<p>$ groupadd git<br />
$ adduser git -g git  </p>
</blockquote>
<h3 id="2">2、创建证书登录</h3>
<p>收集所有需要登录的用户的公钥，公钥位于id_rsa.pub文件中，把我们的公钥导入到/home/git/.ssh/authorized_keys文件里，一行一个。
如果没有该文件创建它：</p>
<blockquote>
<p>$ cd /home/git/<br />
$ mkdir .ssh<br />
$ chmod 700 .ssh<br />
$ touch .ssh/authorized_keys<br />
$ chmod 600 .ssh/authorized_keys  </p>
</blockquote>
<h3 id="3git">3、初始化Git仓库</h3>
<p>首先我们选定一个目录作为Git仓库，假定是/home/gitrepo/runoob.git，在/home/gitrepo目录下输入命令：  </p>
<blockquote>
<p>$ cd /home<br />
$ mkdir gitrepo<br />
$ chown git:git gitrepo/<br />
$ cd gitrepo<br />
$ git init --bare runoob.git  </p>
</blockquote>
<p>Initialized empty Git repository in /home/gitrepo/runoob.git/
以上命令Git创建一个空仓库，服务器上的Git仓库通常都以.git结尾。然后，把仓库所属用户改为git：</p>
<blockquote>
<p>$ chown -R git:git runnoob.git</p>
</blockquote>
<h3 id="4">4、克隆仓库</h3>
<blockquote>
<p>$ git clone git@192.168.45.4:/home/gitrepo/runoob.git<br />
Cloning into 'runoob'...<br />
warning: You appear to have cloned an empty repository.<br />
Checking connectivity... done.  </p>
</blockquote>
<p>192.168.45.4 为 Git 所在服务器 ip ，你需要将其修改为你自己的 Git 服务 ip。
这样我们的 Git 服务器安装就完成了，接下来我们可以禁用 git 用户通过shell登录，可以通过编辑/etc/passwd文件完成。找到类似下面的一行：
git:x:503:503::/home/git:/bin/bash<br />
改为：<br />
git:x:503:503::/home/git:/sbin/nologin  </p>
                            </div>
                        </div>
                    </div>
                    <!-- Table of contents -->
                    
                    <div class="page-content-sider" data-md-component="toc">
                        <div class="page-content-sider-scrollwrap">
                            <div>
                                

<nav class="md-nav md-nav--secondary">
          
        <h2 class="md-nav__title" for="__toc">目录</h2>
        <ul class="md-nav__list" data-md-scrollfix>
             <li class="md-nav__item">
        <a href="#git" title="Git 服务器搭建" class="md-nav__link">
          Git 服务器搭建
        </a>
        
          <nav class="md-nav">
            <ul class="md-nav__list">
              
                <li class="md-nav__item">
        <a href="#1git" title="1、安装Git" class="md-nav__link">
          1、安装Git
        </a>
        
      </li>
              
                <li class="md-nav__item">
        <a href="#2" title="2、创建证书登录" class="md-nav__link">
          2、创建证书登录
        </a>
        
      </li>
              
                <li class="md-nav__item">
        <a href="#3git" title="3、初始化Git仓库" class="md-nav__link">
          3、初始化Git仓库
        </a>
        
      </li>
              
                <li class="md-nav__item">
        <a href="#4" title="4、克隆仓库" class="md-nav__link">
          4、克隆仓库
        </a>
        
      </li>
              
            </ul>
          </nav>
        
      </li>     
        </ul>
        
</nav>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </main>
        </div>
        <footer>
            <div>© 2008-2017, Nicety.io by WANGWEIWEI . All rights reserved. Version：v0.0.7
            </div>
        </footer>
    </div>
    <script src="../../assets/javascripts/jquery.min.js"></script>
    <script src="../../assets/javascripts/popper.min.js"></script>
    <script src="../../assets/javascripts/bootstrap.min.js"></script>
    <script src="../../assets/javascripts/metisMenu.js"></script>
    <script src="../../assets/javascripts/lunr.js"></script>
    <script src="../../assets/javascripts/theme.js"></script>
</body>

</html>
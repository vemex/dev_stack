

<!DOCTYPE html>
<html lang="zh" >

<head>
    <meta charset="utf-8">
    <title>Devs Stack</title>
    <link rel="stylesheet" type="text/css" href="../../assets/stylesheets/main.43fe2ee2b2e728c274f2.css" />
    <link rel="stylesheet" type="text/css" href="../../assets/stylesheets/metisMenu.css" />
    <link rel="stylesheet" type="text/css" href="../../assets/stylesheets/theme.css" />
    <link rel="stylesheet" type="text/css" href="../../assets/stylesheets/darkula.css" />

</head>

<body>
    <div id="dashboard-app" class="fixed-header fixed-left-sider fixed-footer">
        <header>
            <div class="aside-header">
                <div>
                    <label class="text-light text-lg-center p-2"><h2> <a class="text-light text-lg-center p-2" href="../.." >Devs Stack</a></h2></label> 
                </div>
            </div>
            <div class="header-bar">
                <div data-v-a870e5a8="" class="d-flex justify-content-between">
                        
                    <div data-v-a870e5a8="" class="left-container">
                      
                    </div>
                    <div data-v-a870e5a8="" class="right-container">
                        <div  class="dropdown p-2">
                                <input type="text" id="mkdocs-search-query" placeholder="搜索" class="form-control">
                        </div> 
                    </div>
                </div>
            </div>
        </header>
        <div class="dashboard-body">
            <div class="aside-left" id="aside_left">
                    <nav class="sidebar-nav">

        <ul class="metismenu" id="main-menu">
            <li class="sidebar-search-wrapper text-light" style="font-size: 14px;padding: 1rem;font-weight: 600;">
                文章列表
            </li>
            
            
            
            
  



    <li class="">
        <a href="../.." title="Welcome" class="md-nav__link" aria-link>
          Welcome
        </a>
      </li>

            
            
            
            
  

  
  
  



    <li>
        <a class="has-arrow active" href="#"  aria-expanded="true" >
                Git
        </a>
        <ul aria-expanded="true" class="active collapse in">
                
                
                  
                  
                  
  



    <li class="active">
        <a href="../1_CentOS7中安装git/" title="1_CentOS7中安装git" class="md-nav__link" aria-link>
          1_CentOS7中安装git
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../2_git和GitHub/" title="2_git和GitHub" class="md-nav__link" aria-link>
          2_git和GitHub
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../3_git工作区暂存区和版本库/" title="3_git工作区暂存区和版本库" class="md-nav__link" aria-link>
          3_git工作区暂存区和版本库
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../4_git使用基础篇/" title="4_git使用基础篇" class="md-nav__link" aria-link>
          4_git使用基础篇
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../5_简明 Git 命令速查表（中文版）/" title="5_简明 Git 命令速查表（中文版）" class="md-nav__link" aria-link>
          5_简明 Git 命令速查表（中文版）
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../6_git仓库创建/" title="6_git仓库创建" class="md-nav__link" aria-link>
          6_git仓库创建
        </a>
      </li>

                
                  
                  
                  
  

  
  
  



    <li>
        <a class="active"  href="./" title="7_git分支管理"  aria-link>
                7_git分支管理
        </a>
    </li>


                
                  
                  
                  
  



    <li class="active">
        <a href="../8_git工作流程/" title="8_git工作流程" class="md-nav__link" aria-link>
          8_git工作流程
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../9_git工作常用命令/" title="9_git工作常用命令" class="md-nav__link" aria-link>
          9_git工作常用命令
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../10_git标签/" title="10_git标签" class="md-nav__link" aria-link>
          10_git标签
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../11_git服务器搭建/" title="11_git服务器搭建" class="md-nav__link" aria-link>
          11_git服务器搭建
        </a>
      </li>

                
                  
                  
                  
  



    <li class="active">
        <a href="../Git处理 GitHub 不允许上传超过 100MB 文件的问题/" title="Git处理 GitHub 不允许上传超过 100MB 文件的问题" class="md-nav__link" aria-link>
          Git处理 GitHub 不允许上传超过 100MB 文件的问题
        </a>
      </li>

                
        </ul>
    </li>


            
            
            
            
  



    <li>
        <a class="has-arrow " href="#"  aria-expanded="false" >
                SVN
        </a>
        <ul aria-expanded="false" class=" ">
                
                
                  
                  
                  
  



    <li class="">
        <a href="../../svn/" title="概要" class="md-nav__link" aria-link>
          概要
        </a>
      </li>

                
        </ul>
    </li>


            
            <!--<li>
                <a class="has-arrow" href="#">
                    数据源
                </a>
                <ul aria-expanded="true">
                    <li>
                        <a>人口普查数据</a>
                    </li>
                    <li>
                        <a>2017销售数据</a>
                    </li>
                </ul>
            </li>
            <li>
                <a class="has-arrow" href="#">
                    数据源
                </a>
                <ul aria-expanded="true">
                    <li>
                        <a>人口普查数据</a>
                    </li>
                    <li>
                        <a>2017销售数据</a>
                    </li>
                </ul>
            </li>-->
        </ul>
    </nav>
            </div>
            <main class="page">
                <div class="page-title">
                    <div class="breadcrumb"> <b>文章标题:&nbsp;&nbsp;&nbsp;&nbsp;  </b>7_git分支管理</div>
                </div>
                <div class="page-content">
                    <div class="page-content-body">
                        <div class="page-content-body-scrollwrap">
                            <div> 
                                <h2 id="git">Git 分支管理</h2>
<div class="toc">
<ul>
<li><a href="#git">Git 分支管理</a><ul>
<li><a href="#git_1">Git 分支管理</a><ul>
<li><a href="#_1">列出分支</a></li>
<li><a href="#_2">切换分支</a></li>
<li><a href="#_3">删除分支</a></li>
<li><a href="#_4">分支合并</a></li>
<li><a href="#_5">合并冲突</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p><a href="http://www.runoob.com/git/git-branch.html">原文链接</a></p>
<p>几乎每一种版本控制系统都以某种形式支持分支。使用分支意味着你可以从开发主线上分离开来，然后在不影响主线的同时继续工作。
有人把 Git 的分支模型称为&rdquo;必杀技特性&rdquo;，而正是因为它，将 Git 从版本控制系统家族里区分出来。
创建分支命令：</p>
<blockquote>
<p>git branch (branchname)  </p>
</blockquote>
<p>切换分支命令:</p>
<blockquote>
<p>git checkout (branchname)  </p>
</blockquote>
<p>当你切换分支的时候，Git 会用该分支的最后提交的快照替换你的工作目录的内容， 所以多个分支不需要多个目录。</p>
<p>合并分支命令:</p>
<blockquote>
<p>git merge   </p>
</blockquote>
<p>你可以多次合并到统一分支， 也可以选择在合并之后直接删除被并入的分支。</p>
<h3 id="git_1">Git 分支管理</h3>
<h4 id="_1">列出分支</h4>
<p>列出分支基本命令：</p>
<blockquote>
<p>git branch  </p>
</blockquote>
<p>没有参数时，git branch 会列出你在本地的分支。</p>
<blockquote>
<p>$ git branch<br />
* master  </p>
</blockquote>
<p>此例的意思就是，我们有一个叫做&rdquo;master&rdquo;的分支，并且该分支是当前分支。
当你执行 git init 的时候，缺省情况下 Git 就会为你创建&rdquo;master&rdquo;分支。
如果我们要手动创建一个分支。执行 git branch (branchname) 即可。</p>
<blockquote>
<p>$ git branch testing  <br />
$ git branch  <br />
* master  <br />
 testing  </p>
</blockquote>
<p>现在我们可以看到，有了一个新分支 testing。</p>
<h4 id="_2">切换分支</h4>
<p>当你以此方式在上次提交更新之后创建了新分支，如果后来又有更新提交， 然后又切换到了&rdquo;testing&rdquo;分支，Git 将还原你的工作目录到你创建分支时候的样子
接下来我们将演示如何切换分支，我们用 git checkout (branch) 切换到我们要修改的分支。</p>
<blockquote>
<p>$ ls<br />
README<br />
$ echo &lsquo;runoob.com&rsquo; &gt; test.txt  <br />
$ git add .  <br />
$ git commit -m &lsquo;add test.txt&rsquo;  <br />
[master 048598f] add test.txt  <br />
2 files changed, 1 insertion(+), 3 deletions(-)  <br />
delete mode 100644 hello.php   <br />
create mode 100644 test.txt  <br />
$ ls  <br />
README     test.txt  <br />
$ git checkout testing  <br />
Switched to branch &lsquo;testing&rsquo;  <br />
$ ls  <br />
README     hello.php    </p>
</blockquote>
<p>当我们切换到&rdquo;testing&rdquo;分支的时候，我们添加的新文件test.txt被移除了, 原来被删除的文件hello.php文件又出现了。切换回&rdquo;master&rdquo;分支的时候，它们有重新出现了。</p>
<blockquote>
<p>$ git checkout master<br />
Switched to branch &lsquo;master&rsquo;<br />
$ ls<br />
README     test.txt  </p>
</blockquote>
<p>我们也可以使用 git checkout -b (branchname) 命令来创建新分支并立即切换到该分支下，从而在该分支中操作。</p>
<blockquote>
<p>$ git checkout -b newtest<br />
Switched to a new branch &lsquo;newtest&rsquo;<br />
$ git rm test2.txt <br />
rm &lsquo;test2.txt&rsquo;<br />
$ ls<br />
README     test.txt<br />
$ git commit -am &lsquo;removed test2.txt&rsquo;<br />
[newtest 556f0a0] removed test2.txt<br />
1 file changed, 1 deletion(-)<br />
delete mode 100644 test2.txt<br />
$ git checkout master<br />
Switched to branch &lsquo;master&rsquo;<br />
$ ls<br />
README     test.txt    test2.txt  </p>
</blockquote>
<p>如你所见，我们创建了一个分支，在该分支的上下文中移除了一些文件，然后切换回我们的主分支，那些文件又回来了。
使用分支将工作切分开来，从而让我们能够在不同上下文中做事，并来回切换。</p>
<h4 id="_3">删除分支</h4>
<p>删除分支命令：</p>
<blockquote>
<p>git branch -d (branchname)    </p>
</blockquote>
<p>例如我们要删除&rdquo;testing&rdquo;分支：</p>
<blockquote>
<p>$ git branch<br />
<em> master  <br />
 testing  <br />
 $ git branch -d testing  <br />
 Deleted branch testing (was 85fc7e7).  <br />
 $ git branch  <br />
</em> master    </p>
</blockquote>
<h4 id="_4">分支合并</h4>
<p>一旦某分支有了独立内容，你终究会希望将它合并回到你的主分支。 你可以使用以下命令将任何分支合并到当前分支中去：</p>
<blockquote>
<p>git merge  <br />
$ git branch  <br />
* master  <br />
 newtest  <br />
$ ls  <br />
README     test.txt    test2.txt  <br />
$ git merge newtest  <br />
Updating 2e082b7..556f0a0  <br />
Fast-forward  <br />
test2.txt | 1 -  <br />
1 file changed, 1 deletion(-)  <br />
delete mode 100644 test2.txt  <br />
$ ls  <br />
README     test.txt    </p>
</blockquote>
<p>以上实例中我们将 newtest 分支合并到主分支去，test2.txt 文件被删除。</p>
<h4 id="_5">合并冲突</h4>
<p>合并并不仅仅是简单的文件添加、移除的操作，Git 也会合并修改。</p>
<blockquote>
<p>$ git branch  <br />
* master  <br />
 $ cat test.txt  <br />
 runoob.com    </p>
</blockquote>
<p>首先，我们创建一个叫做&rdquo;change_site&rdquo;的分支，切换过去，我们将内容改为 www.runoob.com 。</p>
<blockquote>
<p>$ git checkout -b change_site  <br />
Switched to a new branch &lsquo;change_site&rsquo;  <br />
$ vim test.txt   <br />
$ head -1 test.txt   <br />
www.runoob.com  <br />
$ git commit -am &lsquo;changed the site&rsquo;  <br />
[change_site d7e7346] changed the site  <br />
1 file changed, 1 insertion(+), 1 deletion(-)    </p>
</blockquote>
<p>将修改的内容提交到 &ldquo;change_site&rdquo; 分支中。 现在，假如切换回 &ldquo;master&rdquo; 分支我们可以看内容恢复到我们修改前的，我们再次修改test.txt文件。</p>
<blockquote>
<p>$ git checkout master  <br />
Switched to branch &lsquo;master&rsquo;  <br />
$head -1 test.txt  <br />
www.runoob.com  <br />
$ vim test.txt  <br />
$ cat test.txt  <br />
runoob.com  <br />
新增加一行  <br />
$ git diff   <br />
diff &ndash;git a/test.txt b/test.txt  <br />
index 704cce7..f84c2a4 100644  <br />
-&ndash; a/test.txt    <br />
+++ b/test.txt  <br />
@@ -1 +1,2 @@  <br />
runoob.com  <br />
+新增加一行  <br />
$ git commit -am &lsquo;新增加一行&rsquo;  <br />
[master 14b4dca] 新增加一行  <br />
1 file changed, 1 insertion(+)    </p>
</blockquote>
<p>现在这些改变已经记录到我的 &ldquo;master&rdquo; 分支了。接下来我们将 &ldquo;change_site&rdquo; 分支合并过来。</p>
<blockquote>
<p>$ git merge change_site  <br />
Auto-merging test.txt  <br />
CONFLICT (content): Merge conflict in test.txt  <br />
Automatic merge failed; fix conflicts and then commit the result.  <br />
$ cat test.txt   <br />
    &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD  <br />
     runoob.com  <br />
     新增加一行  <br />
    \=======    <br />
    www.runoob.com  <br />
    >&gt;&gt;&gt;&gt;&gt;&gt; change_site    </p>
</blockquote>
<p>我们将前一个分支合并到 &ldquo;master&rdquo; 分支，一个合并冲突就出现了，接下来我们需要手动去修改它。</p>
<blockquote>
<p>$ vim test.txt   <br />
$ cat test.txt   <br />
www.runoob.com  <br />
新增加一行  <br />
$ git diff  <br />
diff &ndash;cc test.txt  <br />
index f84c2a4,bccb7c2..0000000  <br />
-&ndash; a/test.txt  <br />
+++ b/test.txt  <br />
@@@ -1,2 -1,1 +1,2 @@@  <br />
- runoob.com  <br />
+ www.runoob.com  <br />
+新增加一行    </p>
</blockquote>
<p>在 Git 中，我们可以用 git add 要告诉 Git 文件冲突已经解决</p>
<blockquote>
<p>$ git status -s  <br />
UU test.txt  <br />
$ git add test.txt   <br />
$ git status -s  <br />
M  test.txt  <br />
$ git commit  <br />
[master 88afe0e] Merge branch &lsquo;change_site&rsquo;  <br />
现在我们成功解决了合并中的冲突，并提交了结果。  </p>
</blockquote>
                            </div>
                        </div>
                    </div>
                    <!-- Table of contents -->
                    
                    <div class="page-content-sider" data-md-component="toc">
                        <div class="page-content-sider-scrollwrap">
                            <div>
                                

<nav class="md-nav md-nav--secondary">
          
        <h2 class="md-nav__title" for="__toc">目录</h2>
        <ul class="md-nav__list" data-md-scrollfix>
             <li class="md-nav__item">
        <a href="#git" title="Git 分支管理" class="md-nav__link">
          Git 分支管理
        </a>
        
          <nav class="md-nav">
            <ul class="md-nav__list">
              
                <li class="md-nav__item">
        <a href="#git_1" title="Git 分支管理" class="md-nav__link">
          Git 分支管理
        </a>
        
          <nav class="md-nav">
            <ul class="md-nav__list">
              
                <li class="md-nav__item">
        <a href="#_1" title="列出分支" class="md-nav__link">
          列出分支
        </a>
        
      </li>
              
                <li class="md-nav__item">
        <a href="#_2" title="切换分支" class="md-nav__link">
          切换分支
        </a>
        
      </li>
              
                <li class="md-nav__item">
        <a href="#_3" title="删除分支" class="md-nav__link">
          删除分支
        </a>
        
      </li>
              
                <li class="md-nav__item">
        <a href="#_4" title="分支合并" class="md-nav__link">
          分支合并
        </a>
        
      </li>
              
                <li class="md-nav__item">
        <a href="#_5" title="合并冲突" class="md-nav__link">
          合并冲突
        </a>
        
      </li>
              
            </ul>
          </nav>
        
      </li>
              
            </ul>
          </nav>
        
      </li>     
        </ul>
        
</nav>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </main>
        </div>
        <footer>
            <div>© 2008-2017, Nicety.io by WANGWEIWEI . All rights reserved. Version：v0.0.7
            </div>
        </footer>
    </div>
    <script>
     var base_url = '../..',
                shortcuts = '';
    </script>
    <script src="../../assets/javascripts/jquery.min.js"></script>
    <script src="../../assets/javascripts/popper.min.js"></script>
    <script src="../../assets/javascripts/bootstrap.min.js"></script>
    <script src="../../assets/javascripts/metisMenu.js"></script>
    <script src="../../assets/javascripts/highlight.pack.js"></script>
    <!--<script src="../../search/lunr.js"></script>
    <script src="../../assets/javascripts/lunr.stemmer.support.js"></script>
    <script src="../../assets/javascripts/tinyseg.js"></script>
    <script src="../../assets/javascripts/lunr.zhcn.js"></script>
    -->
    <script src="../../search/worker.js"></script>
    <script src="../../search/main.js"></script>
    <script src="../../assets/javascripts/theme.js"></script>
</body>

</html>